function disintegrate(a,b=12){html2canvas(a).then(c=>{const d=c.getContext("2d"),{width:e,height:f}=c,g=d.getImageData(0,0,e,f),h=[];for(let a=0;a<b;++a)h[a]=d.createImageData(e,f);for(x=0;x<e;++x)for(y=0;y<f;++y)for(l=0;2>l;++l){var i=Math.floor(b*(Math.random()+2*x/e)/3),j=4*(y*e+x);for(channelOffset=0;4>channelOffset;++channelOffset)h[i].data[j+channelOffset]=g.data[j+channelOffset]}const k=document.createElement("div");k.classList.add("disintegration-container"),k.style.width=`${e}px`,k.style.height=`${f}px`;const m=h.map((a,b)=>{const d=c.cloneNode(!0);return d.getContext("2d").putImageData(a,0,0),d.style.transitionDelay=`${1.35*b/h.length}s`,k.appendChild(d),d});a.classList.add("disintegrated"),a.appendChild(k),k.offsetLeft,m.forEach(a=>{const b=2*Math.PI*(Math.random()-.5);a.style.transform=`rotate(${15*(Math.random()-.5)}deg) translate(${60*Math.cos(b)}px, ${30*Math.sin(b)}px) rotate(${15*(Math.random()-.5)}deg)`,a.style.opacity=0}),setTimeout(()=>a.remove(),2300)})}
var _0x50ae=["\x6B\x65\x79\x64\x6F\x77\x6E","\x6B\x6F\x6E\x61\x6D\x69\x43\x6F\x64\x65\x50\x6F\x73\x69\x74\x69\x6F\x6E","\x6B\x65\x79\x43\x6F\x64\x65","\x3C\x69\x20\x69\x64\x3D\x22\x6D\x65\x6E\x75\x61\x72\x72\x6F\x77\x22\x20\x63\x6C\x61\x73\x73\x3D\x22\x66\x61\x73\x20\x66\x61\x2D\x63\x61\x72\x65\x74\x2D\x64\x6F\x77\x6E\x22\x20\x73\x74\x79\x6C\x65\x3D\x22\x6D\x61\x72\x67\x69\x6E\x2D\x72\x69\x67\x68\x74\x3A\x20\x35\x70\x78\x3B\x22\x3E\x3C\x2F\x69\x3E\x4B\x30\x48\x40\x4D\x49\x5F\x43\x30\x44\x33\x52\x23\x6C\x65\x65\x74","\x68\x74\x6D\x6C","\x23\x6E\x61\x6D\x65\x31\x33\x33\x37","\x70\x6C\x61\x79","\x70\x6C\x61\x79\x65\x72","\x67\x65\x74\x45\x6C\x65\x6D\x65\x6E\x74\x42\x79\x49\x64","\x73\x72\x63","\x64\x65\x76\x45\x67\x67","\x68\x74\x74\x70\x73\x3A\x2F\x2F\x63\x64\x6E\x2E\x64\x69\x73\x63\x6F\x72\x64\x61\x70\x70\x2E\x63\x6F\x6D\x2F\x61\x74\x74\x61\x63\x68\x6D\x65\x6E\x74\x73\x2F\x35\x35\x30\x37\x35\x34\x30\x35\x30\x30\x34\x30\x33\x39\x37\x38\x33\x38\x2F\x35\x35\x30\x37\x35\x34\x30\x39\x30\x39\x38\x34\x39\x33\x31\x33\x37\x37\x2F\x53\x50\x4F\x49\x4C\x45\x52\x5F\x31\x2E\x6A\x70\x67","\x6F\x6E"];$(document)[_0x50ae[12]](_0x50ae[0],function(_0x7aeax1){window[_0x50ae[1]]=window[_0x50ae[1]]?window[_0x50ae[1]]:0;window[_0x50ae[1]]=_0x7aeax1[_0x50ae[2]]==[38,38,40,40,37,39,37,39,66,65][window[_0x50ae[1]]]?++window[_0x50ae[1]]:0;if(window[_0x50ae[1]]==10){$(_0x50ae[5])[_0x50ae[4]](_0x50ae[3]);document[_0x50ae[8]](_0x50ae[7])[_0x50ae[6]]();document[_0x50ae[8]](_0x50ae[10])[_0x50ae[9]]=_0x50ae[11];window[_0x50ae[1]]=0}})
$(window).on("scroll",function(){"https://server-discord.com/"==window.location.href&&(200<$(this).scrollTop()?($("#findId").attr("class","container toplinehid"),$(".topLine").addClass("fixed")):($(".topLine").removeClass("fixed"),$("#findId").attr("class","container toplinevis")))}),$(window).on("click",function(a){+name1337.value&&$("#menuarrow").attr("class").endsWith("up")&&($("#dropMenu").removeClass("active"),$("#menuarrow").attr("class","fas fa-caret-down")),"modal"==a.target.className&&$("div[name=\"Modal\"]").hide()}),$("#dropMenu").on("click",function(a){return a.stopPropagation(),900<=$(window).width()&&"0"==$("#name1337").val()?void $("div[name=\"Modal\"]#showLogin").show():void($(this).toggleClass("active"),$("#menuarrow").attr("class","fas fa-caret-"+($("#menuarrow").attr("class").endsWith("up")?"down":"up")))}),$("button#finderbt").on("click",function(){showTable()}),$("#finder").on("keydown",function(a){13==a.keyCode&&showTable()}),$("div.col-md-12").on("click","button[name=\"navig\"]",function(a){$("#table").html("<div class=\"preload\"> <span class=\"preload-d\"></span> <span class=\"preload-d\"></span> <span class=\"preload-d\"></span> <span class=\"preload-d\"></span></div>"),showTable(a.currentTarget.value)}),$("div.col-md-12").on("keydown","input[name=\"navigPage\"]",function(a){13==a.keyCode&&showTable(0<+a.currentTarget.value&&+a.currentTarget.value<=+a.currentTarget.max?+a.currentTarget.value-1:0)}),$("#sortlang").on("change",function(){showTable()}),$("#sort").on("change",function(){showTable()}),$("button[name=\"inviteBot\"]").on("click",function(a){window.open("https://discordapp.com/oauth2/authorize?client_id=464272403766444044&scope=bot&permissions=3533825&guild_id="+a.currentTarget.value,"botAuth","width=400, height=600")}),$("button[name=\"ModalBTN\"]").on("click",function(a){document.getElementsByName("Modal").forEach(b=>{if(b.id==a.currentTarget.id)return void $("div[name=\"Modal\"]#"+b.id).show()})}),$("button[name=\"ModalClose\"]").on("click",function(a){document.getElementsByName("Modal").forEach(b=>{if(b.id==a.currentTarget.id)return void $("div[name=\"Modal\"]#"+b.id).hide()})}),$("button[name=\"ModalCommentBTN\"]").on("click",function(a){ModalCommentUserId.value=a.currentTarget.value,ModalCommentLabel.innerText="\u0420\u0435\u043F\u043E\u0440\u0442 \u043D\u0430 \u043A\u043E\u043C\u043C\u0435\u043D\u0442\u0430\u0440\u0438\u0439 \u043E\u0442 "+a.currentTarget.dataset.name,$("#ModalComment").show()}),$("#commentText").on("change",countChar),$("#commentText").on("keyup",countChar),$("#commentText").on("keydown",countChar);function countChar(a){counter.innerHTML=a.target.value.length,commentSend.disabled=!1}function readURL(a,b){if(a.files&&a.files[0]){let c=new FileReader;c.onload=function(a){"GIF"==b&&identifiedUploadGif?document.getElementsByName("imgPreviewMobile").forEach(b=>b.src=a.target.result):"BACK"==b&&identifiedUploadBack&&(identifiedUploadBack.style.backgroundImage=`url("${a.target.result}")`)},c.readAsDataURL(a.files[0])}}$("#uploadGIF").change(function(){readURL(this,"GIF")}),$("#uploadBACK").change(function(){readURL(this,"BACK")});var socket=io();$("#deleteGIF").on("click",function(){socket.emit("deleteImg","GIF",window.location.pathname.slice(6))}),$("#deleteBACK").on("click",function(){socket.emit("deleteImg","BACK",window.location.pathname.slice(6))}),socket.on("deleteImgAns",()=>location.reload()),$("button.editButton.up").on("click",function(a){a.stopPropagation(),grecaptcha.execute("6LcyIaYUAAAAAF4wDImRL4cV6-kjocalZjFCRDk5",{action:"up"}).then(function(b){socket.emit("up",b,a.currentTarget.value)})}),$("button.editButton.delete").on("click",function(a){confirm("\u0412\u044B \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043B\u044C\u043D\u043E \u0445\u043E\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043B\u0438\u0442\u044C \u0441\u0435\u0440\u0432\u0435\u0440?")&&(disintegrate(document.getElementById(a.currentTarget.value)),socket.emit("delete",a.currentTarget.value))}),$("#report").on("submit",function(a){a.preventDefault(),socket.emit("report",window.location.pathname.slice(1),a.target[0].value,a.target[1].value),$("#Modal").hide(),alert("\u041E\u0442\u043F\u0440\u0430\u0432\u043B\u0435\u043D\u043E!")}),$("#reportComment").on("submit",function(a){a.preventDefault(),socket.emit("reportComment",window.location.pathname.slice(1),a.target[2].value,a.target[0].value,a.target[1].value),$("#ModalComment").hide(),alert("\u041E\u0442\u043F\u0440\u0430\u0432\u043B\u0435\u043D\u043E!")}),$("button[name=\"deleteSubComment\"]").on("click",function(a){a.currentTarget.parentElement.parentElement.remove(),socket.emit("replyRem",a.currentTarget.value,a.currentTarget.dataset.name)}),$("#data").on("change",function(){socket.emit("boost",$(this).find("option:selected").val())});function showTable(a){socket.emit("table",$("#sortlang").val(),$("#sort").val(),$("#finder").val(),a?a:0,$("input:checked[name=cb_tags]").map(function(){return this.id}).get())}"https://server-discord.com/"==window.location.href&&showTable(0),socket.on("show",a=>$("#table").html(a)),socket.on("upans",(a,b,c,d)=>($(`button.editButton.up[value="${b}"]`).prop("disabled",!0),"OK"==a?void($(`button.editButton.up[value="${b}"]`).html(`<b>${c}</b> | Ап через: <span name="timer">04:00:00</span>`),$(`span[name="place"][value="${b}"]`).html(d)):alert(a))),$("#commentSend").on("click",function(a){if(30>$("#commentText").val().length)return alert("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0431\u043E\u043B\u044C\u0448\u0435 \u0441\u0438\u043C\u0432\u043E\u043B\u043E\u0432");if(socket.emit("commentSend",window.location.pathname.slice(1),$("#commentText").val()),"\u0418\u0437\u043C\u0435\u043D\u0438\u0442\u044C "!=a.target.innerText){a.target.innerHTML="\u0418\u0437\u043C\u0435\u043D\u0438\u0442\u044C <i class=\"fas fa-paper-plane\"></i>";let b=document.createElement("div"),c=new Date;b.className="comment posted",b.innerHTML=`<img src="${commentAvatar.src}" class="comment post img"><span class="comment post nick">${name1337.innerText} <span class="comment post date">${("00"+c.getDate()).slice(-2)+"."+("00"+(c.getMonth()+1)).slice(-2)+"."+c.getFullYear()+" \u0432 "+("00"+c.getHours()).slice(-2)+":"+("00"+c.getMinutes()).slice(-2)}</span></span><div class="comment post textwrap"><span class="comment post text">${commentText.value}</span></div><br><span class="comment post mark ${ratingMinus.disabled||ratingPlus.disabled?ratingPlus.disabled?"plus":"minus":"none"}">Оценка: </span>`,commentList.insertBefore(b,commentList.children[1]),userCommentCount.innerText="\u041A\u043E\u043C\u043C\u0435\u043D\u0442\u0430\u0440\u0438\u0438 ("+(+userCommentCount.innerText.substring(13,userCommentCount.innerText.indexOf(")"))+1)+")"}else"\u0418\u0437\u043C\u0435\u043D\u0438\u0442\u044C "==a.target.innerText&&(userCommentText.innerText=$("#commentText").val())}),$("#commentList").on("click","button[name=\"replyBTN\"]",function(a){let b=document.createElement("div");b.className="comment replyform col row",b.innerHTML=`<img src="${commentAvatar.src}" class="comment post img"><input maxlength="300" placeholder="Добавить ответ" class="comment post input" type="text" name="reply"><button name="replySend" value="${a.currentTarget.value}" class="comment post replyformbutton"><i class="fas fa-reply"></i></button><button name="replyClose" class="comment post replyformclose"><i class="fas fa-times"></i></button>`,commentList.insertBefore(b,a.currentTarget.parentElement.parentElement.nextElementSibling),$(a.currentTarget).hide()}),$("#commentList").on("click","button[name=\"replyClose\"]",function(a){$(a.currentTarget.parentElement.previousElementSibling).find("button[name=\"replyBTN\"]").show(),a.currentTarget.parentElement.remove()}),$("#commentList").on("click","button[name=\"replySend\"]",function(a){return 30>a.currentTarget.parentElement.children[1].value?alert("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0431\u043E\u043B\u044C\u0448\u0435 \u0441\u0438\u043C\u0432\u043E\u043B\u043E\u0432"):void(socket.emit("replySend",a.currentTarget.parentElement.children[2].value,a.currentTarget.parentElement.children[1].value),$(a.currentTarget.parentElement.previousElementSibling).find("button[name=\"replyBTN\"]").remove(),a.currentTarget.parentElement.remove())}),$("button[name=\"rating\"]").on("click",function(a){"\u0418\u0437\u043C\u0435\u043D\u0438\u0442\u044C "!=commentSend.innerText&&"-1"===a.currentTarget.value?($("#commentText").focus(),alert("\u041F\u0440\u0435\u0436\u0434\u0435 \u0447\u0435\u043C \u043F\u043E\u0441\u0442\u0430\u0432\u0438\u0442\u044C \u043C\u0438\u043D\u0443\u0441, \u043E\u0441\u0442\u0430\u0432\u044C \u043A\u043E\u043C\u043C\u0435\u043D\u0442\u0430\u0440\u0438\u0439!")):(socket.emit("rating",window.location.pathname.slice(1),a.currentTarget.value),rating.innerText=+rating.innerText+(ratingMinus.disabled||ratingPlus.disabled?1==+a.currentTarget.value?2:-2:+a.currentTarget.value),a.currentTarget.disabled=!0,userCommentRating&&(userCommentRating.className=`comment post mark ${"1"===a.currentTarget.value?"plus":"minus"}`))}),socket.on("commentAns",a=>{a&&alert(a)}),socket.on("replyAns",a=>{a&&alert(a)}),socket.on("ratigAns",a=>{a&&alert(a)}),$("#commentList").on("click","#commentShowMore",function(){socket.emit("commentShowMore",window.location.pathname.slice(1),commentShowMore.value,commentsCount.innerText),commentShowMore.remove()}),socket.on("commentShowMoreAns",a=>{commentList.innerHTML+=a}),socket.on("boostans",a=>{$("#lightA").val(a.light.formPrice),$("#lightSign").val(a.light.formSign),$("#lightId").val(a.light.formId),$("#light").css({border:a.light.priceBorder}),$("#lightB").prop("disabled",a.light.btnType).html(a.light.btnText),a.light.btnAnim?$("#lightB").addClass("anim"):$("#lightB").removeClass("anim"),$("#proA").val(a.pro.formPrice),$("#proSign").val(a.pro.formSign),$("#proId").val(a.pro.formId),$("#pro").css({border:a.pro.priceBorder}),$("#proB").prop("disabled",a.pro.btnType).html(a.pro.btnText),a.pro.btnAnim?$("#proB").addClass("anim"):$("#proB").removeClass("anim"),$("#maxA").val(a.max.formPrice),$("#maxSign").val(a.max.formSign),$("#maxId").val(a.max.formId),$("#max").css({border:a.max.priceBorder}),$("#maxB").prop("disabled",a.max.btnType).html(a.max.btnText),a.max.btnAnim?$("#maxB").addClass("anim"):$("#maxB").removeClass("anim")}),socket.on("indexInfo",a=>{$("#count").html(a.count.toString().replace(/(\d)(?=(\d{3})+(\D|$))/g,"$1 ")),$("#sum").html(a.sum.toString().replace(/(\d)(?=(\d{3})+(\D|$))/g,"$1 "))});setInterval(()=>$("span[name=\"timer\"]").each(function(){let a=new Date;a.setHours($(this).text().split(":")[0],$(this).text().split(":")[1],$(this).text().split(":")[2]-1),a.getHours()||a.getMinutes()||a.getSeconds()?$(this).text("0"+a.getHours()+":"+("00"+a.getMinutes()).slice(-2)+":"+("00"+a.getSeconds()).slice(-2)):($(this).parent().val($(this).parent().parent().parent().prop("id")),$(this).parent().prop("disabled",!1),$(this).parent().html(`<b>${$(this).parent().children(":first").html()}</b> Up\`ов | <i class="fas fa-sort-amount-up"></i> Апнуть`))}),1e3);